<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="utf-8">
	<title>Registrar Empresa</title>
		<link rel="stylesheet" type="text/css" href="master.css">
	<link rel="shortcut icon" type="image/png" href="img/empresa.png">
	<link rel="stylesheet" href="BootstrapCSS/bootstrap.min.css">
<!--	<script type="text/javascript" src="https://maps.google.com/maps/api/js"></script> --><!--llamado para cargar el mapa-->


</head>
<body>
	<div class="empresa">
		<h1 align="center" style="font-family: nyala; font-weight: bolder">Ingresar Empresa</h1>
		<form>
			<label for="Nombre de la empresa">Nombre de la empresa</label>
			<input class="form-control" type="text" id="nombreEmpresa" value="" placeholder="Escriba el Nombre de la Empresa"><br>
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
<div>
			<label for="pais">País de Origen</label>
			<input class="form-control" type="text" id="pais" placeholder="Escriba el País de Origen" value=""><br>
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
</div>
<div class="row" id="mostrar">

	<div class="col-md-6 d-none d-sm-block" style="height: max-content"> 
		
			<label for="Dirección">Dirección</label>
			<textarea class="form-control" style="width:80%" id="direccion" name="Dirección" placeholder="Escriba aquí la Dirección" rows="3" cols="20" value=""></textarea><br><br>
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
			
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
			<label for="latitud-altitud">Altitud/Latitud</label>
	<div>
			<input class="form-control" type="text" id="latitud" placeholder="Escriba su latitud" value="" style="width:80%"/>
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
			
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
	</div>
	<div>
		
			<input class="form-control" id="longitud" type="text" placeholder="Escriba aqui su longitud"  value="" style="width:80%">
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
</div>
	</div>
	<div class="col-md-6 d-none d-sm-block" id="mapa" style="width: 450px; height: 350px;margin-left: auto">
		
	</div>

	<label class="mostrarMapa" for="Ver en Google Maps" style="margin-top: 10px; font-size: small; margin-left: 50px; color: aquamarine">Ver en Google Maps->
	</label>
	<button class="mostrarMapa" id="BtnMapa"  style="margin-top: 10px"onclick="initMap()" type="button"></button>
			<br>
</div>
		
<!-- Campo ficticio para simular el path del archivo -->
<div>
<input type="text" value="" id="url-archivo" class="input-url form-control"/>
<!-- label para simular el boton "seleccionar archivo" -->
<label class="cargar" style="cursor:pointer">
	Subir Banner
	<span>
	
		    <input type="file" id="archivo" value="" name="archivo" style="display:none"/>
	</span></label>
	<!-- Campo original file -->
			<div class="valid-feedback" style="text-align:right">Ok
			</div>
			
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
		</div>
<!-- -->
<br><br><br>


<!-- label para simular el boton "seleccionar archivo" -->
<div>
	<input type="text" value="" id="url-archivo2"  class="input-url form-control" />
<label class="cargar" style="cursor:pointer">
    Subir Logotipo<span>
    <!-- Campo original file -->
<input type="file" id="archivo2" name="archivo" style="display:none"/>
	</span>
</label>

<div class="valid-feedback" style="text-align:right">Ok
			</div>
			
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
</div>
<br><br><br>
<div>
			<label for="redes">Redes Sociales</label>
			<textarea  class="form-control" id="RedesSociales" name="redes" placeholder="Escriba aquí sus redes sociales" style="width: -moz-available"></textarea> 

			<div class="valid-feedback" style="text-align:right">Ok
			</div>
			
            <div class="invalid-feedback" style="text-align:right">
            Campo obligatorio
			</div>
			<br>
</div>
<div> 
	<label for="correo">Correo</label>
		<input type="text" id="correo" class="form-control" placeholder="Escriba el correo electrónico">
		<div class="valid-feedback" style="text-align:right">Ok</div>
		<div class="invalid-feedback" style="text-align:right; margin-bottom:9px">
		Correo no válido
		</div>
</div>
			
<div>
			<div style="float:left">
				
				<label for="clave">Contraseña</label>
				<input type="password" id="ClaveEmpresa" class="form-control" placeholder="Escriba una contraseña segura" style="width:130%" value="">	
				<div class="valid-feedback" style="text-align:right">Ok</div>
				<div class="invalid-feedback" style="text-align:right; margin-bottom:9px">
				Las contraseñas no coinciden
				</div>
			</div>
			<div style="text-align:right" id="confirmacion-clave">
				<br>
			<input type="password" value="" id="ConfirmacionEmpresa" class="form-control" placeholder="Confirme su Contraseña" style="width:40%; margin-left:auto">		

		</div>

</div>
	
		</form>
				<button onclick="validar()">Añadir Empresa</button>
	</div>


	<script src="controlador.js"></script>
	<script src="jquery/jquery-3.4.1.min.js"></script>
	<script> // Script para el mapa
function initMap() {
 // Creamos un objeto mapa y especificamos el elemento DOM donde se va a mostrar.
 var map = new google.maps.Map(document.getElementById('mapa'), {
 center: {lat: parseFloat(document.getElementById('latitud').value), lng: parseFloat(document.getElementById('longitud').value)}, 
 scrollwheel: false,
 zoom: 8,
 zoomControl: true,
 rotateControl : false,
 mapTypeControl: true,
 streetViewControl: false,
 });
 // Creamos el marcador
 var marker = new google.maps.Marker({
 position: {lat: parseFloat(document.getElementById('latitud').value), lng: parseFloat(document.getElementById('longitud').value)},
 draggable: true
 });
 // Le asignamos el mapa a los marcadores.
 marker.setMap(map);
 // creamos el objeto geodecoder
 var geocoder = new google.maps.Geocoder();
// le asignamos una funcion al eventos dragend del marcado
 google.maps.event.addListener(marker, 'dragend', function() {
 geocoder.geocode({'latLng': marker.getPosition()}, function(results, status) {
 if (status == google.maps.GeocoderStatus.OK) {
 var address=results[0]['formatted_address'];
 alert(address);
 }
 });
});
}

/* Seccion para obtener y simular la url del input file
 En el change del campo file, cambiamos el val del campo ficticio por el del verdadero */
    $('#archivo').change(function(){
		$('#url-archivo').val($(this).val());
	});

    $('#archivo2').change(function(){
		$('#url-archivo2').val($(this).val());
	});

</script>
</body>

</html>